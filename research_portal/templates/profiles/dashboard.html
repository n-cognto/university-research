{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
<style>
    :root {
        --primary: #4f5a04;
        --secondary: #001f3f;
        --accent: #ffcc00;
        --light: #f5f5f5;
        --dark: #333;
        --success: #28a745;
        --danger: #dc3545;
        --warning: #ffc107;
        --info: #17a2b8;
    }

    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        width: 200px; 
        background-color: var(--secondary);
        color: white;
        padding: 20px;
        z-index: 1000;
        list-style-type: none;
    }
.sidebar .nav-link {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    text-decoration: none;
    color: white;
    transition: background-color 0.3s, color 0.3s;
    list-style-type: none;
}

.sidebar .nav-link:hover {
    background-color: var(--primary);
    color: var(--accent);
    border-radius: 5px;
}

.sidebar .nav-link i {
    margin-right: 10px;
    font-size: 18px;
    list-style-type: none;
}

.sidebar .nav-link.active {
    background-color: var(--primary);
    color: var(--accent);
    border-radius: 5px;
}

/* Optional: Add a bottom border to separate links */
.sidebar .nav-item:not(:last-child) {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

    .main-content {
        top: 0; 
        margin-left: 0px; 
        padding: 20px;
        transition: margin-left 0.3s; /* Smooth transition for responsiveness */
    }

    /* Dashboard Layout */
    .dashboard-container {
        margin-left: 200px; /* Match this to the sidebar width */
        background-color: #f0f2f5;
        min-height: 100vh;
        padding: 20px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .dashboard-header {
        background-color: var(--primary);
        color: white;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .dashboard-header h1 {
        margin: 0;
        font-size: 24px;
        font-weight: 600;
    }

    .user-info {
        display: flex;
        align-items: center;
    }

    .user-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: var(--accent);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        color: var(--primary);
        font-weight: bold;
        font-size: 18px;
    }

    .user-details {
        text-align: right;
    }

    .user-name {
        font-weight: 600;
        font-size: 18px;
    }

    .user-reg {
        font-size: 14px;
        opacity: 0.9;
    }

    /* Dashboard Grid Layout */
    .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
    }

    .dashboard-card {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 20px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .dashboard-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
    }

    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
    }

    .card-title {
        margin: 0;
        font-size: 18px;
        font-weight: 600;
        color: var(--primary);
    }

    .card-icon {
        font-size: 20px;
        color: var(--primary);
        width: 40px;
        height: 40px;
        background-color: rgba(79, 90, 4, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Research Progress Card */
    .progress-container {
        margin: 15px 0;
    }

    .progress-label {
        display: flex;
        justify-content: space-between;
        margin-bottom: 5px;
        font-size: 14px;
    }

    .progress-bar-outer {
        height: 10px;
        background-color: #e9ecef;
        border-radius: 5px;
        overflow: hidden;
    }

    .progress-bar-inner {
        height: 100%;
        background-color: var(--primary);
        border-radius: 5px;
        width: 65%;
        transition: width 1.5s ease;
    }

    /* Academic Calendar Card */
    .calendar-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }

    .calendar-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }

    .calendar-item:last-child {
        border-bottom: none;
    }

    .calendar-date {
        background-color: var(--primary);
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 5px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
    }

    .calendar-day {
        font-size: 18px;
        font-weight: bold;
    }

    .calendar-month {
        font-size: 12px;
    }

    .calendar-info {
        flex: 1;
    }

    .calendar-title {
        font-weight: 600;
        margin: 0;
        font-size: 14px;
    }

    .calendar-details {
        color: #666;
        font-size: 12px;
        margin: 5px 0 0;
    }

    /* Course Units Card */
    .course-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }

    .course-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }

    .course-item:last-child {
        border-bottom: none;
    }

    .course-icon {
        background-color: rgba(79, 90, 4, 0.1);
        color: var(--primary);
        width: 40px;
        height: 40px;
        border-radius: 5px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
    }

    .course-info {
        flex: 1;
    }

    .course-title {
        font-weight: 600;
        margin: 0;
        font-size: 14px;
    }

    .course-instructor {
        color: #666;
        font-size: 12px;
        margin: 5px 0 0;
    }

    .course-grade {
        background-color: var(--success);
        color: white;
        border-radius: 3px;
        padding: 3px 8px;
        font-size: 12px;
        font-weight: bold;
    }

    /* Announcements Card */
    .announcement-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }

    .announcement-item {
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }

    .announcement-item:last-child {
        border-bottom: none;
    }

    .announcement-meta {
        display: flex;
        justify-content: space-between;
        margin-bottom: 5px;
    }

    .announcement-date {
        color: #666;
        font-size: 12px;
    }

    .announcement-author {
        color: var(--primary);
        font-weight: 600;
        font-size: 12px;
    }

    .announcement-title {
        font-weight: 600;
        margin: 0 0 5px;
        font-size: 14px;
    }

    .announcement-excerpt {
        color: #666;
        font-size: 13px;
        margin: 0;
        line-height: 1.4;
    }

    /* Resources Card */
    .resource-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }

    .resource-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
        transition: background-color 0.2s ease;
    }

    .resource-item:hover {
        background-color: rgba(79, 90, 4, 0.05);
    }

    .resource-item:last-child {
        border-bottom: none;
    }

    .resource-icon {
        color: var(--primary);
        margin-right: 15px;
        font-size: 20px;
    }

    .resource-info {
        flex: 1;
    }

    .resource-title {
        font-weight: 600;
        margin: 0;
        font-size: 14px;
    }

    .resource-size {
        color: #666;
        font-size: 12px;
        margin: 0;
    }

    .resource-download {
        color: var(--primary);
        font-size: 18px;
        cursor: pointer;
        transition: transform 0.2s ease;
    }

    .resource-download:hover {
        transform: scale(1.2);
    }

    /* Quick Actions */
    .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 15px;
        margin-top: 15px;
    }

    .action-button {
        background-color: var(--light);
        border: none;
        padding: 15px 10px;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        color: var(--dark);
    }

    .action-button:hover {
        background-color: var(--primary);
        color: white;
        transform: translateY(-3px);
    }

    .action-icon {
        font-size: 24px;
        margin-bottom: 8px;
    }

    .action-label {
        font-size: 12px;
        font-weight: 500;
        text-align: center;
    }

    /* Notifications */
    .notification-badge {
        position: relative;
    }

    .badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background-color: var(--danger);
        color: white;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
    }

    /* Animations */
    .fade-in {
        animation: fadeIn 1s;
    }

    .slide-in-right {
        animation: slideInRight 0.5s;
    }

    .slide-in-left {
        animation: slideInLeft 0.5s;
    }

    .bounce-in {
        animation: bounceIn 1s;
    }

    .pulse {
        animation: pulse 2s infinite;
    }

    /* Research Profile Section */
    .full-width-card {
        grid-column: 1 / -1;
    }

    .research-profile {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
    }

    .stats-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-top: 15px;
    }

    .stat-box {
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        flex: 1;
        min-width: 120px;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .stat-box:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .stat-value {
        font-size: 24px;
        font-weight: bold;
        color: var(--primary);
        margin: 0;
    }

    .stat-label {
        font-size: 14px;
        color: #666;
        margin: 5px 0 0;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .sidebar {
            width: 100%;
            height: auto;
            position: static;
        }

        .main-content {
            margin-left: 0;
        }

        .dashboard-container {
            margin-left: 0;
        }

        .dashboard-header {
            flex-direction: column;
            text-align: center;
        }

        .user-info {
            margin-top: 15px;
            flex-direction: column;
        }

        .user-avatar {
            margin-right: 0;
            margin-bottom: 10px;
        }

        .user-details {
            text-align: center;
        }

        .dashboard-grid {
            grid-template-columns: 1fr;
        }

        .stats-container {
            flex-direction: column;
        }
    }
</style>
{% endblock %}

{% block content %}

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-2 sidebar">
            <div class="text-center my-3">
                <img src="{{ user.profile.profile_picture.url }}" class="rounded-circle" alt="User" width="50">
                <h5 class="mt-2">{{ user.get_full_name }}</h5>
                <p class="text-muted">{{ user.email }}</p>
            </div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a href="{% url 'dashboard' %}" class="nav-link {% if request.path == '/dashboard/' %}active{% endif %}">
                        <i class="fas fa-home"></i> Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'profile' %}" class="nav-link {% if request.path == '/profile/' %}active{% endif %}">
                        <i class="fas fa-user"></i> View Profile
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'edit_profile' %}" class="nav-link {% if request.path == '/edit-profile/' %}active{% endif %}">
                        <i class="fas fa-edit"></i> Edit Profile
                    </a>
                </li>

                <li class="nav-item">
                    <form method="post" action="{% url 'logout' %}" style="display: inline;">
                        {% csrf_token %}
                        <button type="submit" class="nav-link text-danger" style="border: none; background: none; padding: 0; cursor: pointer;">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </form>
                </li>
            </ul>
        </div>
</div>
    <!-- Main Content -->
    <div class="main-content">
        <div class="dashboard-container">
            <!-- Dashboard Header -->
            <div class="dashboard-header animate__animated animate__fadeInDown">
                <div class="user-info">
                    <div class="user-avatar">
                        {{ user.username|slice:":1"|upper }}
                    </div>
                    <div class="user-details">
                        <div class="user-name">{{ user.first_name }} {{ user.last_name|default:user.username }}</div>
                        <div class="user-reg">{{ user.profile.reg_number }}</div>
                    </div>
                </div>
            </div>

            <!-- Research Profile Overview -->
            <div class="dashboard-grid">
                <div class="dashboard-card full-width-card animate__animated animate__fadeIn">
                    <div class="card-header">
                        <h2 class="card-title">Research Profile Overview</h2>
                        <div class="card-icon"><i class="fas fa-user-graduate"></i></div>
                    </div>
                    <div class="research-profile">
                        <div style="flex: 2; min-width: 300px;">
                            <p><strong>Department:</strong> Computer Science & Information Technology</p>
                            <p><strong>Research Area:</strong> Artificial Intelligence & Machine Learning</p>
                            <p><strong>Supervisor:</strong> Dr. Jane Mwangi</p>
                            <p><strong>Program:</strong> MSc. Computer Science</p>
                            <p><strong>Status:</strong> <span style="color: var(--success);">Active</span></p>
                        </div>
                        <div style="flex: 3; min-width: 300px;">
                            <h3 style="color: var(--primary); font-size: 16px; margin-top: 0;">Research Progress</h3>
                            <div class="progress-container">
                                <div class="progress-label">
                                    <span>Proposal Development</span>
                                    <span>65%</span>
                                </div>
                                <div class="progress-bar-outer">
                                    <div class="progress-bar-inner"></div>
                                </div>
                            </div>
                            <div class="stats-container">
                                <div class="stat-box animate__animated animate__fadeIn" style="animation-delay: 0.2s;">
                                    <p class="stat-value">3</p>
                                    <p class="stat-label">Meetings</p>
                                </div>
                                <div class="stat-box animate__animated animate__fadeIn" style="animation-delay: 0.4s;">
                                    <p class="stat-value">2</p>
                                    <p class="stat-label">Submissions</p>
                                </div>
                                <div class="stat-box animate__animated animate__fadeIn" style="animation-delay: 0.6s;">
                                    <p class="stat-value">5</p>
                                    <p class="stat-label">To-Do Items</p>
                                </div>
                                <div class="stat-box animate__animated animate__fadeIn" style="animation-delay: 0.8s;">
                                    <p class="stat-value">1</p>
                                    <p class="stat-label">Publications</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="quick-actions">
                        <a href="#" class="action-button animate__animated animate__bounceIn" style="animation-delay: 0.1s;">
                            <i class="fas fa-upload action-icon"></i>
                            <span class="action-label">Submit Document</span>
                        </a>
                        <a href="#" class="action-button animate__animated animate__bounceIn" style="animation-delay: 0.2s;">
                            <i class="fas fa-calendar-alt action-icon"></i>
                            <span class="action-label">Schedule Meeting</span>
                        </a>
                        <a href="#" class="action-button animate__animated animate__bounceIn" style="animation-delay: 0.3s;">
                            <i class="fas fa-comment-alt action-icon notification-badge"></i>
                            <span class="badge">3</span>
                            <span class="action-label">Messages</span>
                        </a>
                        <a href="#" class="action-button animate__animated animate__bounceIn" style="animation-delay: 0.4s;">
                            <i class="fas fa-book action-icon"></i>
                            <span class="action-label">Research Library</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Main Dashboard Content -->
            <div class="dashboard-grid">
                <!-- Upcoming Deadlines -->
                <div class="dashboard-card animate__animated animate__fadeInLeft">
                    <div class="card-header">
                        <h2 class="card-title">Academic Calendar</h2>
                        <div class="card-icon"><i class="fas fa-calendar-alt"></i></div>
                    </div>
                    <ul class="calendar-list">
                        <li class="calendar-item">
                            <div class="calendar-date">
                                <span class="calendar-day">15</span>
                                <span class="calendar-month">MAR</span>
                            </div>
                            <div class="calendar-info">
                                <h3 class="calendar-title">Proposal Submission Deadline</h3>
                                <p class="calendar-details">Final date to submit research proposals</p>
                            </div>
                        </li>
                        <li class="calendar-item">
                            <div class="calendar-date">
                                <span class="calendar-day">22</span>
                                <span class="calendar-month">MAR</span>
                            </div>
                            <div class="calendar-info">
                                <h3 class="calendar-title">Research Methodology Workshop</h3>
                                <p class="calendar-details">10:00 AM - Main Auditorium</p>
                            </div>
                        </li>
                        <li class="calendar-item">
                            <div class="calendar-date">
                                <span class="calendar-day">10</span>
                                <span class="calendar-month">APR</span>
                            </div>
                            <div class="calendar-info">
                                <h3 class="calendar-title">Supervisor Meeting</h3>
                                <p class="calendar-details">2:30 PM - Online (Zoom)</p>
                            </div>
                        </li>
                        <li class="calendar-item">
                            <div class="calendar-date">
                                <span class="calendar-day">25</span>
                                <span class="calendar-month">APR</span>
                            </div>
                            <div class="calendar-info">
                                <h3 class="calendar-title">End of Semester</h3>
                                <p class="calendar-details">Last day of academic activities</p>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Course Units -->
                <div class="dashboard-card animate__animated animate__fadeInRight">
                    <div class="card-header">
                        <h2 class="card-title">Current Course Units</h2>
                        <div class="card-icon"><i class="fas fa-book"></i></div>
                    </div>
                    <ul class="course-list">
                        <li class="course-item">
                            <div class="course-icon">
                                <i class="fas fa-laptop-code"></i>
                            </div>
                            <div class="course-info">
                                <h3 class="course-title">Advanced Research Methods</h3>
                                <p class="course-instructor">Dr. James Kamau</p>
                            </div>
                            <span class="course-grade">A</span>
                        </li>
                        <li class="course-item">
                            <div class="course-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="course-info">
                                <h3 class="course-title">Machine Learning Algorithms</h3>
                                <p class="course-instructor">Prof. Sarah Mburu</p>
                            </div>
                            <span class="course-grade">B+</span>
                        </li>
                        <li class="course-item">
                            <div class="course-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="course-info">
                                <h3 class="course-title">Big Data Analytics</h3>
                                <p class="course-instructor">Dr. Peter Ochieng</p>
                            </div>
                            <span class="course-grade">A-</span>
                        </li>
                        <li class="course-item">
                            <div class="course-icon">
                                <i class="fas fa-project-diagram"></i>
                            </div>
                            <div class="course-info">
                                <h3 class="course-title">Thesis Seminar</h3>
                                <p class="course-instructor">Dr. Jane Mwangi</p>
                            </div>
                            <span class="course-grade">IP</span>
                        </li>
                    </ul>
                </div>

                <!-- Announcements -->
                <div class="dashboard-card animate__animated animate__fadeInUp">
                    <div class="card-header">
                        <h2 class="card-title">Announcements</h2>
                        <div class="card-icon"><i class="fas fa-bullhorn"></i></div>
                    </div>
                    <ul class="announcement-list">
                        <li class="announcement-item">
                            <div class="announcement-meta">
                                <span class="announcement-date">Mar 1, 2025</span>
                                <span class="announcement-author">Department of Graduate Studies</span>
                            </div>
                            <h3 class="announcement-title">Research Grant Applications Open</h3>
                            <p class="announcement-excerpt">Applications for the 2025/2026 research grants are now open. All eligible students are encouraged to apply before March 30th, 2025.</p>
                        </li>
                        <li class="announcement-item">
                            <div class="announcement-meta">
                                <span class="announcement-date">Feb 28, 2025</span>
                                <span class="announcement-author">IT Department</span>
                            </div>
                            <h3 class="announcement-title">System Maintenance Notice</h3>
                            <p class="announcement-excerpt">The research portal will undergo maintenance on March 5th from 2 AM to 5 AM. Services will be unavailable during this period.</p>
                        </li>
                        <li class="announcement-item">
                            <div class="announcement-meta">
                                <span class="announcement-date">Feb 25, 2025</span>
                                <span class="announcement-author">Academic Registrar</span>
                            </div>
                            <h3 class="announcement-title">Thesis Submission Guidelines Updated</h3>
                            <p class="announcement-excerpt">New guidelines for thesis submission have been published. Please review the updated format requirements.</p>
                        </li>
                    </ul>
                </div>

                <!-- Research Resources -->
                <div class="dashboard-card animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
                    <div class="card-header">
                        <h2 class="card-title">Research Resources</h2>
                        <div class="card-icon"><i class="fas fa-file-alt"></i></div>
                    </div>
                    <ul class="resource-list">
                        <li class="resource-item">
                            <div class="resource-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="resource-info">
                                <h3 class="resource-title">Thesis Formatting Guide</h3>
                                <p class="resource-size">PDF • 2.4MB</p>
                            </div>
                            <div class="resource-download">
                                <i class="fas fa-download"></i>
                            </div>
                        </li>
                        <li class="resource-item">
                            <div class="resource-icon">
                                <i class="fas fa-file-word"></i>
                            </div>
                            <div class="resource-info">
                                <h3 class="resource-title">Research Proposal Template</h3>
                                <p class="resource-size">DOCX • 856KB</p>
                            </div>
                            <div class="resource-download">
                                <i class="fas fa-download"></i>
                            </div>
                        </li>
                        <li class="resource-item">
                            <div class="resource-icon">
                                <i class="fas fa-file-powerpoint"></i>
                            </div>
                            <div class="resource-info">
                                <h3 class="resource-title">Presentation Template</h3>
                                <p class="resource-size">PPTX • 4.2MB</p>
                            </div>
                            <div class="resource-download">
                                <i class="fas fa-download"></i>
                            </div>
                        </li>
                        <li class="resource-item">
                            <div class="resource-icon">
                                <i class="fas fa-link"></i>
                            </div>
                            <div class="resource-info">
                                <h3 class="resource-title">Academic Journal Access</h3>
                                <p class="resource-size">External Link</p>
                            </div>
                            <div class="resource-download">
                                <i class="fas fa-external-link-alt"></i>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Animate progress bar on page load
    document.addEventListener('DOMContentLoaded', function() {
        // Animate progress bars
        const progressBars = document.querySelectorAll('.progress-bar-inner');
        progressBars.forEach(bar => {
            // Start with width 0
            bar.style.width = '0%';
            // Force reflow
            void bar.offsetWidth;
            // Set the actual width (will animate due to CSS transition)
            setTimeout(() => {
                bar.style.width = bar.getAttribute('data-progress') || '65%';
            }, 300);
        });

        // Add scroll reveal effect
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__animated', 'animate__fadeIn');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        // Observe all dashboard cards
        document.querySelectorAll('.dashboard-card').forEach(card => {
            observer.observe(card);
        });
    });

    // Add hover effects for resource items
    document.querySelectorAll('.resource-item').forEach(item => {
        item.addEventListener('mouseenter', function() {
            this.querySelector('.resource-download').classList.add('animate__animated', 'animate__pulse');
        });
        item.addEventListener('mouseleave', function() {
            this.querySelector('.resource-download').classList.remove('animate__animated', 'animate__pulse');
        });
    });

    // Simulate notifications update
    setTimeout(() => {
        const badge = document.querySelector('.badge');
        badge.classList.add('animate__animated', 'animate__heartBeat');
        setTimeout(() => {
            badge.classList.remove('animate__animated', 'animate__heartBeat');
        }, 1000);
    }, 3000);
</script>
{% endblock %}
